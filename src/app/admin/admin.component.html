<!DOCTYPE html>
<html lang="en">
<head>
    <app-meta></app-meta>
</head>
<body *ngIf="checked">
    <app-adminheader></app-adminheader>
    <div class="alert alert-danger" *ngIf="error">
        {{error}}
    </div>
    <div class="alert alert-success" *ngIf="success">
        {{success}}
    </div>
    <section class="container p-3">
        <h3 class="text-center  border border-1 alert alert-secondary"><b>Users</b></h3>
        <!-- style="background-color: rgba(0, 0, 0, 0.847);" -->
        <canvas class=" rounded" id="user" width="400" height="110"></canvas>
    </section>
    <app-adminuserCategory></app-adminuserCategory>
    <app-adminpack></app-adminpack>
    <app-adminpostpaid></app-adminpostpaid>
    <app-admindongle></app-admindongle>


    <section id="account" class="container border p-3">
        <div class="container">
            <h3 class="alert alert-secondary"><b>Admin Account</b></h3>
            <div class="container">
                <form action="">
                    <input class="form-control" type="tel" name="phoneNo"  placeholder="Admin Id" [(ngModel)]="adminPhoneNo" required><br>
                    <input class="form-control" type="text" name="name" placeholder="Admin Name" [(ngModel)]="adminName" required><br>
                    <input class="form-control" type="email" name="email"  placeholder="Admin Email" [(ngModel)]="adminEmail" required><br>
                    <input class="form-control" type="password" name="password"  placeholder="Password" [(ngModel)]="adminPassword" required><br>
                    <button class=" container btn btn-danger" (click)="addAccount()">Create Account</button>
                </form>
            </div>
        </div>
    </section>


    <section id="feedback" class="container border p-3 mt-3">
        <div class="container">
            <h3 class="alert alert-secondary"><b>Reviews</b></h3>
            <div class="container d-flex justify-content-center">
                <button class="btn btn-danger container" (click)="getReview(5)" >Very Bad</button>
                <button class="btn text-white container ms-3" style="background-color: orangered;" (click)="getReview(4)">Bad</button>
                <button class="btn btn-warning container ms-3" (click)="getReview(3)">Average</button>
                <button class="btn btn-success container ms-3" (click)="getReview(2)">Good</button>
                <button class="btn container ms-3 text-white" style="background-color: darkgreen;" (click)="getReview(1)">Excellent</button>
            </div>
            <div class="container row d-flex justify-content-around">
                <div class="card mt-3 col-3" style="width: 25rem;"  *ngFor="let i of review">
                    <span class="container d-flex p-3">
                        <img src="assets/profile.png" class="img-fluid circle-rounded" width="34%" alt="">
                        <h4 class="mt-4 pt-3">{{i.Name || "unknown"}}</h4>
                    </span>
                    <div class="card-body p-3">
                        <p><b>{{i.Feedback || "unknown"}}</b></p>
                    </div>
                        <a href="mailto:{{i.Email}}" style="width: 100%;"><button class="container btn btn-danger">Email</button></a>
                    </div>
            </div>
        </div>
    </section>

    <section id="ticket" class="container border p-3 mt-3">
        <div class="container">
            <h3 class="alert alert-secondary"><b>Query Management</b></h3>
            <div class="container d-flex justify-content-center">
                <button class="btn btn-danger container" (click)="getQuery(5)" >Other issues</button>
                <button class="btn text-white container ms-3" style="background-color: orangered;" (click)="getQuery(4)">MNP Issues</button>
                <button class="btn btn-warning container ms-3" (click)="getQuery(3)">Recharge issues</button>
                <button class="btn btn-success container ms-3" (click)="getQuery(2)">Connectivity issues</button>
                <button class="btn container ms-3 text-white" style="background-color: darkgreen;" (click)="getQuery(1)">Network issues</button>
            </div>
            <div class="container row d-flex justify-content-around">
                <div class="card mt-3 col-3" style="width: 25rem;"   *ngFor="let i of queries">
                    <span class="container d-flex p-3">
                        <img src="assets/profile.png" class="img-fluid circle-rounded" width="34%" alt="">
                        <h4 class="mt-4 pt-3">{{i.mobile_no || "User"}}</h4>
                    </span>
                    <div class="card-body p-3">
                        <p><b>{{i.Query || "unknown"}}</b></p>
                    </div>
                    <a class="text-decoration-none text-white bg-danger text-center" href="mailto:{{i.Email}}"><button class="btn btn-danger">Contact</button></a>
                    <button class="btn btn-primary mt-1" *ngIf="i.admin_name">Assigned To {{i.admin_name}}({{i.admin_id}})</button>
                    <button class="btn btn-primary mt-1"  *ngIf="!i.admin_name" (click)="assignToMe(i.id)">Assign</button>
                    <button class="btn btn-success mt-1" (click)="closeTicket(i.id)" >Close Ticket</button>
                 </div>
            </div>
        </div>
    </section>

    <app-footer></app-footer>
</body>
</html>
